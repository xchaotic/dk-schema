<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Getting Started with DK-Schema 2.0</title><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"/></head><body><div class="article"><div class="titlepage"><div><div><h1 class="title"><a id="d5e1"/>Getting Started with DK-Schema 2.0</h1></div><div><div class="author"><h3 class="author">Lech Rzedzicki</h3><code class="email">&lt;<a class="email" href="mailto:lech@kode1100.com">lech@kode1100.com</a>&gt;</code></div></div></div><hr/></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#d5e7">Introduction</a></span></dt><dt><span class="section"><a href="#d5e10">Getting the DK-Schema 2.0 Documentation</a></span></dt><dt><span class="section"><a href="#d5e42">Getting the latest DK-Schema files</a></span></dt><dt><span class="section"><a href="#d5e90">Validating against DK-Schema 2.0 with OxygenXML editor</a></span></dt><dt><span class="section"><a href="#d5e149">Getting Help and submitting issues</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e7"/>Introduction</h2></div></div></div><p>DK Schema 2.0 is based on Docbook 5.x, with customisations to cater for DK specific requirements.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e10"/>Getting the DK-Schema 2.0 Documentation</h2></div></div></div><p>In addition to this document, there is an extensive set of reference documentation:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Dk-Schema Specification</span></dt><dd><p>A document enumerating all the differences between DK-Schema 2.0 and standard Docbook 5.x.</p><p>It also describes DK specific markup techniques such as <a class="link" href="http://www.kode1100.co.uk/dk/docs/dk-schema-spec-with-samples.html#s.profiling" target="_top">profiling</a>. </p></dd><dt><span class="term">XML Markup Samples</span></dt><dd><p>For every area that differes from standard Docbook 5.x the specification lanaguage is accompanied by sample XML markup, in most cases taken from real DK book, for example:</p><p><a class="link" href="http://www.kode1100.co.uk/dk/samples/procedure/procedure-centrifuge.xml" target="_top">Procedure markup example</a></p></dd><dt><span class="term">Screenshots</span></dt><dd><p>Every portion of the specification is accompanied by a visual rendering from the book spread, PDF or a screenshot.</p><p>This helps to decide the XML markup that the printed book layout should be captured with.</p><p><a class="link" href="http://www.kode1100.co.uk/dk/screenshots/procedure/procedure_centrifuge.png" target="_top">Procedure screenshot</a></p></dd></dl></div><p>For convenience all of the above are combined in a single document, which can be viewed as:</p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="http://www.kode1100.co.uk/dk/docs/dk-schema-spec-with-samples.pdf" target="_top">DK-Schema-spec-with-samples - PDF</a></td></tr><tr><td><a class="link" href="http://www.kode1100.co.uk/dk/docs/dk-schema-spec-with-samples.html" target="_top">DK-Schema-spec-with-samples - HTML</a></td></tr></table><p>Whenever possible, the authors of the schema try to encourage using standard Docbook markup to enable better compatibility with 3rd parties and other standards such as EPUB or HTML.</p><p>Therefore familiarity with Docbook is required and an excellent resource for that is: <a class="link" href="http://www.docbook.org/tdg/en/html/docbook-x.html" target="_top">DocBook: The Definitive Guide</a></p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e42"/>Getting the latest DK-Schema files</h2></div></div></div><p>The schema, like Docbook 5.x is authored in RelaxNG schema language, the procedure below only describes how to get RelaxNG comact sytax files, for other variants of the schema, please refer to the
            <a class="link" href="http://www.kode1100.co.uk/dk/docs/dk-DeveloperGuide.html" target="_top">DK-Schema Developer Guide</a>.</p><p>The latest versions of the schemas and documentation are kept in a repository located at <a class="link" href="kode1100.co.uk/dk" target="_top">kode1100.co.uk/dk</a>, specifically:</p><div class="variablelist"><dl class="variablelist"><dt><a id="s.dkschema"/><span class="term"><a class="link" href="http://www.kode1100.com/dk/dk-schema/relaxng/dk-schema.rnc" target="_top">dk-schema.rnc</a></span></dt><dd><p>The default schema and should be be used whenever possible, especially by external outsourcers and 3rd parties.</p><p>This form of the schema is flattened to one file, therefore it can be used on its own or offline.</p><p>This form of the schema also has additional Schematron rules embedded, although additional configuration may be necessary to validate against these rules.</p><p>By default, this schema also includes all the variants such as </p></dd><dt><a id="s.dkextensions"/><span class="term"><a class="link" href="http://www.kode1100.co.uk/dk/dk-schema/src/dk-extensions.rnc" target="_top">dk-extensions.rnc</a></span></dt><dd><p>The dk-extensions.rnc schema, should be be used whenever changes are made to the core schema.</p><p>This form of the schema only enumerates the differences between DK-Schema and Docbook 5.x, it will only work if all the files referenced by it are available.</p></dd><dt><a id="s.schematron"/><span class="term"><a class="link" href="http://www.kode1100.co.uk/dk/dk-schema/dk-schema.sch" target="_top">dk-schema.sch</a></span></dt><dd><p>In addition to the core schema expressed in RelaxNG, DK-Schema uses Schematron lnaguage to express additional constraints in XML.</p><p>This form of the schema validation can result in two types of validation messages:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">error</span></dt><dd><p>Errors always need to be fixed, otherwise it will not be valid DK-Schema</p></dd><dt><span class="term">warning</span></dt><dd><p>Warnings do not always need to be fixed, but some tools such as XSL are not guaranteed to work until the warnings are fixed.</p><p>Warnings usually suggest a more consistent way of tagging content.</p></dd></dl></div></dd><dt><a id="s.variants"/><span class="term">Other variants</span></dt><dd><p>The <a class="link" href="#s.dkschema">Default Schema</a> includes the definitions of all the variant, therefore it can be used to validate content types such as cookery or phrasebooks.</p><p>If the variants need to be used in isolation or they need to be modified, variants of the schema are kept in subdirectories of the dk-scema repository, for example 
                    <code class="code">dk-schema/cookery/</code>.</p><p>Standalone variants of the schema are only applicable to specific titles.</p><p>For example: <a class="link" href="http://www.kode1100.co.uk/dk/dk-schema/cookery/cookery.rnc" target="_top">cookery/cookery.rnc</a>is only applicable to cookery titles such as <span class="quote">“<span class="quote">Cook Express</span>”</span>.</p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e90"/>Validating against DK-Schema 2.0 with OxygenXML editor</h2></div></div></div><p>While it is possible to validate against DK-Schema 2.0 with many tools, includding free ones, validating with OxygenXML is the preferred method.</p><div class="procedure"><a id="d5e93"/><p class="title"><strong>Procedure 1. Validating against RelaxNG dk-schema.rnc</strong></p><ol class="procedure" type="1"><li class="step"><p>Install OxygenXML if not installed already. It can be downloaded from <a class="link" href="http://www.oxygenxml.com/download_oxygenxml_editor.html" target="_top">www.oxygenxml.com</a>.</p></li><li class="step"><p>Get the license. If it is urgent, or a licence is not availabe, get a trial license from <a class="link" href="http://www.oxygenxml.com/register.html" target="_top">www.oxygenxml.com/register.html</a></p></li><li class="step"><p>Open the XML file to validate.</p></li><li class="step"><p>If necessary, add the processing-instruction to instruct Oxygen to validate against DK-Schema rather than standard Docbook 5.x</p><p>If the processing instruction is already present, OxygenXML will vaildate automatically, when opening the file.</p><p>The processing instruction, for internal users, outsourcers and 3rd parties should be as follows:
                    <code class="code">&lt;?xml-model href="http://kode1100.com/dk/dk-schema/relaxng/dk-schema.rnc"?&gt;</code>
                </p><p>The processing instruction, for OxygenXML versions older than 12.0, should be as follows:
                    <code class="code">&lt;?oxygen RNGSchema="http://kode1100.com/dk/dk-schema/relaxng/dk-schema.rnc" type="compact"?&gt;</code>
                </p></li><li class="step"><p>Save the file (File menu -&gt; save)</p></li><li class="step"><p>Press the <code class="code">Validate</code> button on the toolbar (marked with a Tick symbol) or choose <code class="code">Document</code> menu, choose <code class="code">Validate</code>, choose <code class="code">Reset Cache and Validate</code></p></li></ol></div><p>Result: If the file is valid a green square in the upper-right corner of the window appears.</p><p> If the file is invalid, the square is red and the errors can be navigated to by cliking on on the vertical bar below the square.</p><div class="procedure"><a id="d5e120"/><p class="title"><strong>Procedure 2. Validating against Schematron dk-schema.sch</strong></p><ol class="procedure" type="1"><li class="step"><p>Install OxygenXML if not installed already. It can be downloaded from <a class="link" href="http://www.oxygenxml.com/download_oxygenxml_editor.html" target="_top">www.oxygenxml.com</a>.</p></li><li class="step"><p>Get the license. If it is urgent, or a licence is not availabe, get a trial license from <a class="link" href="http://www.oxygenxml.com/register.html" target="_top">www.oxygenxml.com/register.html</a></p></li><li class="step"><p>Open the XML file to validate.</p></li><li class="step"><p>Choose <span class="guimenu">Document</span> menu -&gt; <span class="guisubmenu">Validate</span> submenu -&gt; <span class="guimenuitem">Validate with...</span></p><p>For OxygenXML versions older than 11.x, the name of the menu item is <span class="guimenuitem">External Validation</span></p></li><li class="step"><p>In the dialog type or paste the following <span class="guilabel">URL</span>: <code class="uri">http://kode1100.co.uk/dk/dk-schema/dk-schema.sch</code></p><p>It should automatically change <span class="guilabel">Schema Type</span> to "Schematron", change it manually, if necessary.</p></li><li class="step"><p>Finally click <span class="guibutton">OK</span>. The file will be validated against schematron rules and a list of errors and warning will appear at the bottom of the screen.</p></li><li class="step"><p>For subsequent validations this association will become the default and you can validate again, bu clicking <span class="guibutton">Validate</span> button on the toolbar.</p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e149"/>Getting Help and submitting issues</h2></div></div></div><p>if you get stuck and can not find the answer to your question in Docbook or DK-Schema documentation or community help (Google, mailing-lists such as docbook-apps), don't hesitate to contact the authors of the schema or to submit an issue to a bug tracking system.</p><div class="procedure"><a id="d5e152"/><p class="title"><strong>Procedure 3. Submitting a bug / new feature request</strong></p><p>We are using Google Code to keep track of of the issues</p><ol class="procedure" type="1"><li class="step"><p>Get a <a class="link" href="https://accounts.google.com/NewAccount" target="_top">Google Account</a> and log in.</p></li><li class="step"><p>Go to <a class="link" href="http://code.google.com/p/dk-schema/issues/list" target="_top">Issues List</a> and verify that your issue is not in the list already.</p></li><li class="step"><p>Submit a new issue <a class="link" href="http://code.google.com/p/dk-schema/issues/entry" target="_top">here</a>. Ensure that you have described and clasified the issue properly and if possible attach screenshots and markup examples.</p></li></ol></div><div class="procedure"><a id="d5e164"/><p class="title"><strong>Procedure 4. Getting in touch</strong></p><ul class="procedure"><li class="step"><p>Send us an email to <code class="email">&lt;<a class="email" href="mailto:dk-schema@kode1100.com">dk-schema@kode1100.com</a>&gt;</code></p></li></ul></div></div></div></body></html>